---
import Layout from '../../layouts/Layout.astro';
import { getEntry, getCollection } from 'astro:content';

export async function getStaticPaths() {
  const projects = await getCollection('projects');
  return [
    ...projects.map((entry) => ({
      params: {
        slug: entry.data.slug,
        title: entry.data.title,
        collection: 'projects',
      },
    })),
  ];
}
const entry = await getEntry('projects', Astro.params.slug);
const html = entry?.rendered?.html || '<h1>Content requested is too secret</h1>';
---

<Layout>
  <main
    class="
      prose dark:prose-invert
      w-full h-full max-w-full max-h-full
      fixed top-0 left-0 overflow-y-auto
      subpixel-antialiased
      p-12
    "
  >
    <section set:html={html} />
  </main>
</Layout>
